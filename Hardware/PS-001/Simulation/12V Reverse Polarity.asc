Version 4
SHEET 1 1800 680
WIRE 224 -640 160 -640
WIRE 432 -640 320 -640
WIRE -224 -544 -288 -544
WIRE -32 -544 -144 -544
WIRE 160 -544 160 -640
WIRE 160 -544 48 -544
WIRE 208 -544 160 -544
WIRE 432 -544 432 -640
WIRE 432 -544 272 -544
WIRE 528 -544 432 -544
WIRE -592 -512 -592 -528
WIRE -704 -496 -816 -496
WIRE -624 -496 -704 -496
WIRE -288 -496 -288 -544
WIRE -384 -480 -560 -480
WIRE -336 -480 -384 -480
WIRE -816 -464 -816 -496
WIRE -624 -464 -656 -464
WIRE 208 -464 208 -544
WIRE 240 -464 240 -592
WIRE 272 -464 272 -544
WIRE -592 -432 -592 -448
WIRE 416 -432 416 -448
WIRE -336 -416 -336 -432
WIRE -288 -400 -288 -416
WIRE -816 -352 -816 -384
WIRE -656 -352 -656 -464
WIRE -496 -352 -656 -352
WIRE -384 -352 -384 -480
WIRE -384 -352 -416 -352
WIRE -656 -320 -656 -352
WIRE 272 -304 272 -320
WIRE 416 -304 416 -352
WIRE 416 -304 272 -304
WIRE 416 -288 416 -304
WIRE 208 -272 208 -320
WIRE 240 -272 240 -320
WIRE 240 -272 208 -272
WIRE 240 -240 240 -272
WIRE -656 -208 -656 -240
WIRE 416 -176 416 -224
WIRE -1216 -32 -1216 -64
WIRE 224 32 160 32
WIRE 432 32 320 32
WIRE -1216 80 -1216 48
WIRE -224 128 -288 128
WIRE -32 128 -144 128
WIRE 160 128 160 32
WIRE 160 128 48 128
WIRE 208 128 160 128
WIRE 432 128 432 32
WIRE 432 128 272 128
WIRE 528 128 528 -544
WIRE 528 128 432 128
WIRE -592 160 -592 144
WIRE -704 176 -816 176
WIRE -624 176 -704 176
WIRE -288 176 -288 128
WIRE -384 192 -560 192
WIRE -336 192 -384 192
WIRE -816 208 -816 176
WIRE -624 208 -656 208
WIRE 208 208 208 128
WIRE 240 208 240 80
WIRE 272 208 272 128
WIRE 528 224 528 128
WIRE -592 240 -592 224
WIRE 416 240 416 208
WIRE -336 256 -336 240
WIRE 528 256 528 224
WIRE -288 272 -288 256
WIRE -816 320 -816 288
WIRE -656 320 -656 208
WIRE -496 320 -656 320
WIRE -384 320 -384 192
WIRE -384 320 -416 320
WIRE -656 352 -656 320
WIRE 272 368 272 352
WIRE 416 368 416 320
WIRE 416 368 272 368
WIRE 416 384 416 368
WIRE 208 400 208 352
WIRE 240 400 240 352
WIRE 240 400 208 400
WIRE 240 432 240 400
WIRE 528 448 528 336
WIRE -656 464 -656 432
WIRE 416 496 416 448
FLAG 528 448 0
FLAG 240 432 0
FLAG 416 496 0
FLAG 240 -240 0
FLAG 416 -176 0
FLAG -288 -400 0
FLAG 416 -448 +12V
FLAG 416 208 +12V
FLAG -1216 80 0
FLAG -1216 -64 +12V
FLAG -816 -352 0
FLAG -704 -496 vref2
FLAG -592 -528 0
FLAG -592 -432 +12V
FLAG -656 -208 0
FLAG -336 -416 0
FLAG -288 -544 s2
FLAG -288 272 0
FLAG -816 320 0
FLAG -704 176 vref1
FLAG -592 144 0
FLAG -592 240 +12V
FLAG -656 464 0
FLAG -336 256 0
FLAG -288 128 s1
FLAG 528 224 Vload
SYMBOL LM5050-1 240 288 R270
SYMATTR InstName U1
SYMBOL cap 400 384 R0
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL res 400 224 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL LM5050-1 240 -384 R270
SYMATTR InstName U2
SYMBOL cap 400 -288 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL res 400 -448 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL res 64 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {mc(20m,0.01})
SYMBOL res -128 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {mc(18m,0.1)}
SYMBOL res 64 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {mc(20m,0.01)}
SYMBOL res -128 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {mc(18m,0.1)}
SYMBOL voltage -1216 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL nmos 320 -592 M270
SYMATTR InstName M1
SYMATTR Value DMG6968UQ
SYMATTR Prefix X
SYMBOL nmos 320 80 M270
SYMATTR InstName M2
SYMATTR Value DMG6968UQ
SYMATTR Prefix X
SYMBOL res 512 240 R0
SYMATTR InstName R5
SYMATTR Value R=5.2-5000*time
SYMBOL res -640 -224 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value {mc(16k,.001)}
SYMBOL res -400 -368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {mc(64k,.001)}
SYMBOL Opamps\\UniversalOpamp2 -592 -480 M180
SYMATTR InstName U3
SYMBOL voltage -816 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {vref1}
SYMBOL res -640 448 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value {mc(16k,.001)}
SYMBOL res -400 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {mc(64k,.001)}
SYMBOL Opamps\\UniversalOpamp2 -592 192 M180
SYMATTR InstName U4
SYMBOL voltage -816 -480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {vref2}
SYMBOL e -288 160 R0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL e -288 -512 R0
SYMATTR InstName E2
SYMATTR Value 1
TEXT -224 592 Left 2 !.tran 0 1m 100u 10u uic
TEXT 304 624 Left 2 !;.step dec param RL 1 10 100
TEXT -224 568 Left 2 !.inc DMG6968UQ.LIB
TEXT 864 -584 Left 2 !.param Vref1 mc(1.0025,0.01246882793)
TEXT 856 -512 Left 2 !.step param run 1 1440 1
TEXT 840 -440 Left 2 !;.meas v1 PARAM V(s1)\n;.meas v2 PARAM V(s2)\n;.meas p1 PARAM -V(s1)*I(E1)\n;.meas p2 PARAM -V(s2)*I(E2)\n;.meas pt MAX V(vload)*I(R5)\n;.meas I1 PARAM -I(E1)\n;.meas I2 PARAM -I(E2)\n;.meas It MAX I(R5)\n;.meas vload MAX V(vload)\n.meas max_allowable_load1 FIND I(R5) WHEN -I(E1)=3\n.meas max_allowable_load2 FIND I(R5) WHEN -I(E2)=3
TEXT 864 -552 Left 2 !.param Vref2 mc(1.0025,0.01246882793)
TEXT 816 -120 Left 2 !;.save V(s1) V(s2) I(E1) I(E2) V(vload) I(R5)
