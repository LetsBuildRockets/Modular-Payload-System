Version 4
SHEET 1 1356 680
WIRE 160 -144 80 -144
WIRE 384 -144 320 -144
WIRE 480 -144 384 -144
WIRE 480 -112 480 -144
WIRE 576 -112 480 -112
WIRE 480 -80 480 -112
WIRE 80 -64 80 -144
WIRE 384 -64 384 -144
WIRE 576 0 576 -112
WIRE 384 16 384 0
WIRE 480 16 480 0
WIRE 528 16 480 16
WIRE 256 80 96 80
WIRE 480 80 480 16
WIRE 480 80 336 80
WIRE 96 128 96 80
WIRE 576 144 576 96
WIRE 592 144 576 144
WIRE 752 144 592 144
WIRE 896 144 832 144
WIRE 1088 144 896 144
WIRE 1088 224 1088 144
WIRE 96 256 96 208
WIRE 592 256 592 144
WIRE 896 288 896 144
WIRE 1088 336 1088 304
WIRE 1136 336 1088 336
WIRE 1232 336 1216 336
WIRE 1088 352 1088 336
WIRE 592 368 592 320
WIRE 1232 368 1232 336
WIRE 896 384 896 352
WIRE 1232 448 1232 432
FLAG 96 256 0
FLAG 80 16 0
FLAG 896 384 0
FLAG 1088 432 0
FLAG 592 368 0
FLAG 384 16 0
FLAG 1232 448 0
SYMBOL voltage 96 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(24 0 .3m 1n 1n {d_pwm/f_pwm} {1/f_pwm})
SYMBOL pmos 528 96 M180
SYMATTR InstName M1
SYMATTR Value Si7113DN
SYMBOL voltage 80 -80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res 352 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 33
SYMBOL ind 736 160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 10µ
SYMBOL cap 880 288 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 1072 208 R0
SYMATTR InstName R3
SYMATTR Value 1.5
SYMBOL diode 608 320 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 464 -96 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL cap 368 -64 R0
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL ind 144 -128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 10µ
SYMBOL res 224 -128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value .5
SYMBOL res 1072 336 R0
SYMATTR InstName R1
SYMATTR Value 10m
SYMBOL cap 1216 368 R0
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL res 1232 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 470
TEXT -104 304 Left 2 !.param f_pwm=100k d_pwm=.2
TEXT -106 324 Left 2 !.tran .8m startup uic
